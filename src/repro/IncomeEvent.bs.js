// Generated by BUCKLESCRIPT VERSION 3.1.4, PLEASE EDIT WITH CARE
'use strict';

var BTC = require("../application/wallet/BTC.bs.js");
var Address = require("../application/wallet/Address.bs.js");
var Json_decode = require("bs-json/src/Json_decode.js");
var Json_encode = require("bs-json/src/Json_encode.js");

function make(txOutputN, coordinates, address, txId, amount) {
  return /* record */[
          /* address */address,
          /* coordinates */coordinates,
          /* txId */txId,
          /* txOutputN */txOutputN,
          /* amount */amount
        ];
}

function encode($$event) {
  return Json_encode.object_(/* :: */[
              /* tuple */[
                "type",
                "IncomeDetected"
              ],
              /* :: */[
                /* tuple */[
                  "address",
                  $$event[/* address */0]
                ],
                /* :: */[
                  /* tuple */[
                    "txId",
                    $$event[/* txId */2]
                  ],
                  /* :: */[
                    /* tuple */[
                      "txOutputN",
                      $$event[/* txOutputN */3]
                    ],
                    /* :: */[
                      /* tuple */[
                        "coordinates",
                        Address.Coordinates[/* encode */9]($$event[/* coordinates */1])
                      ],
                      /* :: */[
                        /* tuple */[
                          "amount",
                          BTC.encode($$event[/* amount */4])
                        ],
                        /* [] */0
                      ]
                    ]
                  ]
                ]
              ]
            ]);
}

function decode(raw) {
  return /* record */[
          /* address */Json_decode.field("address", Json_decode.string, raw),
          /* coordinates */Json_decode.field("coordinates", Address.Coordinates[/* decode */10], raw),
          /* txId */Json_decode.field("txId", Json_decode.string, raw),
          /* txOutputN */Json_decode.field("txOutputN", Json_decode.$$int, raw),
          /* amount */Json_decode.field("amount", BTC.decode, raw)
        ];
}

exports.make = make;
exports.encode = encode;
exports.decode = decode;
/* BTC Not a pure module */
