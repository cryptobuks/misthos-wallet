// Generated by BUCKLESCRIPT VERSION 3.1.5, PLEASE EDIT WITH CARE
'use strict';

var Blockstack = require("blockstack");
var Json_decode = require("bs-json/src/Json_decode.js");

function getFileFromUser(file, username) {
  return Blockstack.getFile(file, {
              username: username,
              decrypt: false
            });
}

function getFileFromUserAndDecrypt(file, username) {
  return Blockstack.getFile(file, {
              username: username,
              decrypt: true
            });
}

function fetchIds(beginning) {
  if (beginning === "") {
    return Promise.resolve(/* array */[]);
  } else {
    return fetch("https://core.blockstack.org/v1/search?query=" + beginning).then((function (prim) {
                    return prim.json();
                  })).then((function (res) {
                  return Promise.resolve(Json_decode.field("results", (function (param) {
                                    return Json_decode.array((function (user) {
                                                  return Json_decode.field("fullyQualifiedName", Json_decode.string, user);
                                                }), param);
                                  }), res));
                }));
  }
}

exports.getFileFromUser = getFileFromUser;
exports.getFileFromUserAndDecrypt = getFileFromUserAndDecrypt;
exports.fetchIds = fetchIds;
/* blockstack Not a pure module */
