// Generated by BUCKLESCRIPT VERSION 3.0.0, PLEASE EDIT WITH CARE
'use strict';

var Json = require("bs-json/src/Json.js");
var Curry = require("bs-platform/lib/js/curry.js");
var EventLog = require("../application/events/EventLog.bs.js");
var Blockstack = require("blockstack");
var PrimitiveTypes = require("../application/PrimitiveTypes.bs.js");
var Caml_exceptions = require("bs-platform/lib/js/caml_exceptions.js");

var CouldNotLoadVenture = Caml_exceptions.create("WorkerUtils.CouldNotLoadVenture");

function loadVenture(ventureId) {
  return Blockstack.getFile(PrimitiveTypes.VentureId[/* toString */0](ventureId) + "/log.json").then((function (nullLog) {
                if (nullLog == null) {
                  throw CouldNotLoadVenture;
                } else {
                  return Promise.resolve(Curry._1(EventLog.decode, Json.parseOrRaise(nullLog)));
                }
              }));
}

exports.CouldNotLoadVenture = CouldNotLoadVenture;
exports.loadVenture = loadVenture;
/* EventLog Not a pure module */
