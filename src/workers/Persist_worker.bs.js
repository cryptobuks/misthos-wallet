// Generated by BUCKLESCRIPT VERSION 3.0.0, PLEASE EDIT WITH CARE
'use strict';

var PrimitiveTypes = require("../application/PrimitiveTypes.bs.js");
var WorkerLocalStorage = require("./WorkerLocalStorage.bs.js");

(( self.localStorage = require("./fakeLocalStorage").localStorage ));

(( self.window = { localStorage: self.localStorage } ));

function logMessage(msg) {
  console.log("[Persist Worker] - " + msg);
  return /* () */0;
}

function handleMessage(param) {
  switch (param.tag | 0) {
    case 0 : 
        logMessage("Initializing local storage");
        return WorkerLocalStorage.setBlockstackItems(param[0]);
    case 1 : 
        return logMessage("Loading venture '" + (PrimitiveTypes.VentureId[/* toString */0](param[0]) + "'"));
    case 2 : 
        return logMessage("Venture '" + (PrimitiveTypes.VentureId[/* toString */0](param[0]) + "' was updated"));
    
  }
}

self.onmessage = (function (msg) {
    return handleMessage(msg.data);
  });

var Message = 0;

exports.Message = Message;
exports.logMessage = logMessage;
exports.handleMessage = handleMessage;
/*  Not a pure module */
