// Generated by BUCKLESCRIPT VERSION 3.1.5, PLEASE EDIT WITH CARE
'use strict';

var Json_decode = require("bs-json/src/Json_decode.js");
var Json_encode = require("bs-json/src/Json_encode.js");
var Js_primitive = require("bs-platform/lib/js/js_primitive.js");

function getItem(key) {
  return Js_primitive.null_undefined_to_opt(localStorage.getItem(key));
}

function setItem(key, value) {
  localStorage.setItem(key, value);
  return /* () */0;
}

function removeItem(key) {
  localStorage.removeItem(key);
  return /* () */0;
}

function encodeItems(items) {
  return Json_encode.object_(/* :: */[
              /* tuple */[
                "blockstack",
                Json_encode.nullable((function (prim) {
                        return prim;
                      }), items[/* blockstack */0])
              ],
              /* :: */[
                /* tuple */[
                  "blockstackGaiaHubConfig",
                  Json_encode.nullable((function (prim) {
                          return prim;
                        }), items[/* blockstackGaiaHubConfig */1])
                ],
                /* :: */[
                  /* tuple */[
                    "blockstackTransitPrivateKey",
                    Json_encode.nullable((function (prim) {
                            return prim;
                          }), items[/* blockstackTransitPrivateKey */2])
                  ],
                  /* [] */0
                ]
              ]
            ]);
}

function decodeItems(raw) {
  return /* record */[
          /* blockstack */Json_decode.field("blockstack", (function (param) {
                  return Json_decode.optional(Json_decode.string, param);
                }), raw),
          /* blockstackGaiaHubConfig */Json_decode.field("blockstackGaiaHubConfig", (function (param) {
                  return Json_decode.optional(Json_decode.string, param);
                }), raw),
          /* blockstackTransitPrivateKey */Json_decode.field("blockstackTransitPrivateKey", (function (param) {
                  return Json_decode.optional(Json_decode.string, param);
                }), raw)
        ];
}

var blockstackKey = "blockstack";

var gaiaHubKey = "blockstack-gaia-hub-config";

var transitPrivKey = "blockstack-transit-private-key";

function readBlockstackItemsFromStorage() {
  return /* record */[
          /* blockstack */Js_primitive.null_to_opt(localStorage.getItem(blockstackKey)),
          /* blockstackGaiaHubConfig */Js_primitive.null_to_opt(localStorage.getItem(gaiaHubKey)),
          /* blockstackTransitPrivateKey */Js_primitive.null_to_opt(localStorage.getItem(transitPrivKey))
        ];
}

function setBlockstackItems(param) {
  var blockstackTransitPrivateKey = param[/* blockstackTransitPrivateKey */2];
  var blockstackGaiaHubConfig = param[/* blockstackGaiaHubConfig */1];
  var blockstack = param[/* blockstack */0];
  if (blockstack) {
    setItem(blockstackKey, blockstack[0]);
  } else {
    localStorage.removeItem(blockstackKey);
  }
  if (blockstackGaiaHubConfig) {
    setItem(gaiaHubKey, blockstackGaiaHubConfig[0]);
  } else {
    localStorage.removeItem(gaiaHubKey);
  }
  if (blockstackTransitPrivateKey) {
    return setItem(transitPrivKey, blockstackTransitPrivateKey[0]);
  } else {
    localStorage.removeItem(transitPrivKey);
    return /* () */0;
  }
}

var L = 0;

exports.getItem = getItem;
exports.setItem = setItem;
exports.removeItem = removeItem;
exports.encodeItems = encodeItems;
exports.decodeItems = decodeItems;
exports.L = L;
exports.blockstackKey = blockstackKey;
exports.gaiaHubKey = gaiaHubKey;
exports.transitPrivKey = transitPrivKey;
exports.readBlockstackItemsFromStorage = readBlockstackItemsFromStorage;
exports.setBlockstackItems = setBlockstackItems;
/* Json_encode Not a pure module */
