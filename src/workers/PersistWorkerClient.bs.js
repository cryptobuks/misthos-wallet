// Generated by BUCKLESCRIPT VERSION 3.0.0, PLEASE EDIT WITH CARE
'use strict';

var Block = require("bs-platform/lib/js/block.js");
var Curry = require("bs-platform/lib/js/curry.js");
var WebWorker = require("../ffi/WebWorker.bs.js");
var WorkerLocalStorage = require("./WorkerLocalStorage.bs.js");
var PersistWorkerMessage = require("./PersistWorkerMessage.bs.js");
var Persist_workerBsJs = require("./Persist_worker.bs.js");

var Config = /* module */[/* decodeReceive */PersistWorkerMessage.decodeReceive];

var include = WebWorker.MakeClient([
      PersistWorkerMessage.decodeReceive,
      (function () {
          return new Persist_workerBsJs();
        })
    ]);

var make = include[0];

function make$1(onMessage) {
  var worker = Curry._1(make, onMessage);
  worker.postMessage(/* InitializeLocalStorage */Block.__(0, [WorkerLocalStorage.readBlockstackItemsFromStorage(/* () */0)]));
  return worker;
}

exports.Config = Config;
exports.make = make$1;
/* include Not a pure module */
