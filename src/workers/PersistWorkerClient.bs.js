// Generated by BUCKLESCRIPT VERSION 3.0.0, PLEASE EDIT WITH CARE
'use strict';

var Block = require("bs-platform/lib/js/block.js");
var Curry = require("bs-platform/lib/js/curry.js");
var WebWorker = require("../ffi/WebWorker.bs.js");
var WorkerLocalStorage = require("./WorkerLocalStorage.bs.js");
var PersistWorkerMessage = require("./PersistWorkerMessage.bs.js");
var VentureWorkerMessage = require("./VentureWorkerMessage.bs.js");
var Persist_workerBsJs = require("./Persist_worker.bs.js");

var Config = /* module */[/* decodeOutgoing */PersistWorkerMessage.decodeOutgoing];

var include = WebWorker.MakeClient([
      PersistWorkerMessage.decodeOutgoing,
      (function () {
          return new Persist_workerBsJs();
        })
    ]);

var postMessage = include[1];

function updateSession(worker) {
  return Curry._2(postMessage, worker, /* UpdateSession */Block.__(0, [WorkerLocalStorage.readBlockstackItemsFromStorage(/* () */0)]));
}

function ventureMessage(msg, worker) {
  return Curry._2(postMessage, worker, /* VentureWorkerMessage */Block.__(1, [VentureWorkerMessage.encodeOutgoing(msg)]));
}

var syncListeners = include[0];

var postMessageEncoded = include[2];

var postMessageEncodedSync = include[3];

var handleMessage = include[4];

var make = include[5];

exports.Config = Config;
exports.syncListeners = syncListeners;
exports.postMessage = postMessage;
exports.postMessageEncoded = postMessageEncoded;
exports.postMessageEncodedSync = postMessageEncodedSync;
exports.handleMessage = handleMessage;
exports.make = make;
exports.updateSession = updateSession;
exports.ventureMessage = ventureMessage;
/* include Not a pure module */
