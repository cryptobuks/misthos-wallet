// Generated by BUCKLESCRIPT VERSION 2.2.3, PLEASE EDIT WITH CARE
'use strict';

var Block = require("bs-platform/lib/js/block.js");
var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var Caml_format = require("bs-platform/lib/js/caml_format.js");
var ReasonReact = require("reason-react/src/ReasonReact.js");

function text(prim) {
  return prim;
}

function extractAmount($$event) {
  return Caml_format.caml_int_of_string($$event.target.value);
}

function extractDescription($$event) {
  return $$event.target.value;
}

var component = ReasonReact.reducerComponent("ContributionInput");

function make(submit, _) {
  var newrecord = component.slice();
  newrecord[/* render */9] = (function (param) {
      var send = param[/* send */4];
      var state = param[/* state */2];
      return React.createElement("div", undefined, React.createElement("div", undefined, React.createElement("input", {
                          value: String(state[/* amountInteger */0]),
                          onChange: (function (e) {
                              return Curry._1(send, /* ChangeAmountInteger */Block.__(0, [Caml_format.caml_int_of_string(e.target.value)]));
                            })
                        }), ",", React.createElement("input", {
                          value: String(state[/* amountFraction */1]),
                          onChange: (function (e) {
                              return Curry._1(send, /* ChangeAmountFraction */Block.__(1, [Caml_format.caml_int_of_string(e.target.value)]));
                            })
                        }), "USD"), "Description:", React.createElement("input", {
                      value: state[/* description */2],
                      onChange: (function (e) {
                          return Curry._1(send, /* ChangeDescription */Block.__(2, [e.target.value]));
                        })
                    }), React.createElement("button", {
                      onClick: (function () {
                          return Curry._1(send, /* Submit */0);
                        })
                    }, "Propose Contribution"));
    });
  newrecord[/* initialState */10] = (function () {
      return /* record */[
              /* amountInteger */0,
              /* amountFraction */0,
              /* description */"",
              /* submit */submit
            ];
    });
  newrecord[/* reducer */12] = (function (action, state) {
      if (typeof action === "number") {
        return /* UpdateWithSideEffects */Block.__(3, [
                  /* record */[
                    /* amountInteger */0,
                    /* amountFraction */0,
                    /* description */"",
                    /* submit */state[/* submit */3]
                  ],
                  (function () {
                      return Curry._4(state[/* submit */3], state[/* amountInteger */0], state[/* amountFraction */1], "USD", state[/* description */2]);
                    })
                ]);
      } else {
        switch (action.tag | 0) {
          case 0 : 
              return /* Update */Block.__(0, [/* record */[
                          /* amountInteger */action[0],
                          /* amountFraction */state[/* amountFraction */1],
                          /* description */state[/* description */2],
                          /* submit */state[/* submit */3]
                        ]]);
          case 1 : 
              return /* Update */Block.__(0, [/* record */[
                          /* amountInteger */state[/* amountInteger */0],
                          /* amountFraction */action[0],
                          /* description */state[/* description */2],
                          /* submit */state[/* submit */3]
                        ]]);
          case 2 : 
              return /* Update */Block.__(0, [/* record */[
                          /* amountInteger */state[/* amountInteger */0],
                          /* amountFraction */state[/* amountFraction */1],
                          /* description */action[0],
                          /* submit */state[/* submit */3]
                        ]]);
          
        }
      }
    });
  return newrecord;
}

exports.text = text;
exports.extractAmount = extractAmount;
exports.extractDescription = extractDescription;
exports.component = component;
exports.make = make;
/* component Not a pure module */
